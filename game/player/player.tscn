[gd_scene load_steps=14 format=2]

[ext_resource path="res://scripts/player/player.gd" type="Script" id=1]
[ext_resource path="res://util/textures/godot_icon.png" type="Texture" id=2]
[ext_resource path="res://scripts/player/player_movement.gd" type="Script" id=3]
[ext_resource path="res://scripts/player/state_machine/player_weapon_attachment_state.gd" type="Script" id=4]
[ext_resource path="res://scripts/player/state_machine/player_card_selection_state.gd" type="Script" id=5]
[ext_resource path="res://scripts/player/state_machine/player_fighting_state.gd" type="Script" id=6]
[ext_resource path="res://scripts/player/state_machine/player_state_machine.gd" type="Script" id=7]
[ext_resource path="res://scripts/player/currency_agent.gd" type="Script" id=8]
[ext_resource path="res://scripts/weapon_system/weapon_slot_manager.gd" type="Script" id=9]
[ext_resource path="res://weapon/common/weapon_slot.tscn" type="PackedScene" id=10]
[ext_resource path="res://scripts/weapon_system/weapon_user.gd" type="Script" id=11]

[sub_resource type="RectangleShape2D" id=2]
extents = Vector2( 32, 32 )

[sub_resource type="RectangleShape2D" id=1]
extents = Vector2( 33, 33 )

[node name="player" type="Node2D"]
script = ExtResource( 1 )
_card_hand_path = NodePath("")
_weapon_user_path = NodePath("weapon_user")

[node name="player_body" type="KinematicBody2D" parent="."]
script = ExtResource( 3 )

[node name="player_sprite" type="Sprite" parent="player_body"]
texture = ExtResource( 2 )

[node name="player_rigid_hurt_box" type="CollisionShape2D" parent="player_body"]
shape = SubResource( 2 )

[node name="player_hurtbox" type="Area2D" parent="player_body"]

[node name="player_hurtbox_collider" type="CollisionShape2D" parent="player_body/player_hurtbox"]
shape = SubResource( 1 )

[node name="weapon_slots" type="Node2D" parent="player_body"]
script = ExtResource( 9 )
weapon_slot_scene = ExtResource( 10 )

[node name="state_machine" type="Node" parent="."]
script = ExtResource( 7 )
_player_path = NodePath("..")
_fighting_state_path = NodePath("fighting_state")

[node name="card_selection_state" type="Node" parent="state_machine"]
script = ExtResource( 5 )

[node name="weapon_attachment_state" type="Node" parent="state_machine"]
script = ExtResource( 4 )

[node name="fighting_state" type="Node" parent="state_machine"]
script = ExtResource( 6 )

[node name="weapon_user" type="Node" parent="."]
script = ExtResource( 11 )
_bullets_parent_path = NodePath("../bullets")

[node name="bullets" type="Node2D" parent="."]

[node name="currency_agent" type="Node" parent="."]
script = ExtResource( 8 )
